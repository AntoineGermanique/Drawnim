{"version":3,"sources":["src/index.js"],"names":["pressureVal","feedback","document","querySelector","giveFeedback","a","innerHTML","canvas","getElementById","ctx","getContext","painting","lastX","lastY","lineThickness","width","innerWidth","height","innerHeight","fillRect","drawStart","e","console","log","fillStyle","pageX","touches","offsetLeft","pageY","offsetTop","drawStop","drawMove","mouseX","mouseY","x1","x2","y1","y2","steep","Math","abs","x","y","dx","dy","error","de","yStep","sqrt","force","addEventListener"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["var pressureVal\nconst feedback = document.querySelector('#feedback')\nconst giveFeedback = a => feedback.innerHTML = a\n\n\nvar canvas = document.getElementById(\"canvas\"),\n    ctx = canvas.getContext(\"2d\"),\n    painting = false,\n    lastX = 0,\n    lastY = 0,\n    lineThickness = 1;\n\ncanvas.width = innerWidth-20\ncanvas.height = innerHeight-20;\nctx.fillRect(0, 0, innerWidth * 4, innerHeight * 4);\n\nconst drawStart = function (e) {\n    console.log('force', e)\n\n    painting = true;\n    ctx.fillStyle = \"#ffffff\";\n    lastX = e.pageX ? e.pageX : e.touches[0].pageX - this.offsetLeft;\n    lastY = e.pageY ? e.pageY : e.touches[0].pageY - this.offsetTop;\n}\n\nconst drawStop = function (e) {\n    painting = false;\n}\n\nconst drawMove = function (e) {\n    if (painting) {\n        mouseX = e.pageX ? e.pageX : e.touches[0].pageX - this.offsetLeft;\n        mouseY = e.pageY ? e.pageY : e.touches[0].pageY - this.offsetTop;\n        // find all points between        \n        var x1 = mouseX,\n            x2 = lastX,\n            y1 = mouseY,\n            y2 = lastY;\n\n\n        var steep = (Math.abs(y2 - y1) > Math.abs(x2 - x1));\n        if (steep) {\n            var x = x1;\n            x1 = y1;\n            y1 = x;\n\n            var y = y2;\n            y2 = x2;\n            x2 = y;\n        }\n        if (x1 > x2) {\n            var x = x1;\n            x1 = x2;\n            x2 = x;\n\n            var y = y1;\n            y1 = y2;\n            y2 = y;\n        }\n\n        var dx = x2 - x1,\n            dy = Math.abs(y2 - y1),\n            error = 0,\n            de = dy / dx,\n            yStep = -1,\n            y = y1;\n\n        if (y1 < y2) {\n            yStep = 1;\n        }\n\n        lineThickness = 5 - Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1)) / 10;\n        if (lineThickness < 1) {\n            lineThickness = 1;\n        }\n        e.touches && e.touches[0] \n            ? pressureVal=e.touches[0].force * 2\n            : pressureVal=1\n        for (var x = x1; x < x2; x++) {\n            if (steep) {\n                ctx.fillRect(y, x, pressureVal, pressureVal);\n            } else {\n                ctx.fillRect(x, y, pressureVal, pressureVal);\n            }\n            // if (steep) {\n            //     ctx.fillRect(y, x, lineThickness , lineThickness );\n            // } else {\n            //     ctx.fillRect(x, y, lineThickness , lineThickness );\n            // }\n            error += de;\n            if (error >= 0.5) {\n                y += yStep;\n                error -= 1.0;\n            }\n        }\n\n\n\n        lastX = mouseX;\n        lastY = mouseY;\n\n    }\n    giveFeedback(pressureVal)\n}\n\n\n\ncanvas.addEventListener('mousedown', drawStart);\ncanvas.addEventListener('touchstart', drawStart);\n\ncanvas.addEventListener('mouseup', drawStop)\ncanvas.addEventListener('touchend', drawStop)\n\ncanvas.addEventListener('mousemove', drawMove)\ncanvas.addEventListener('touchmove', drawMove)"]}